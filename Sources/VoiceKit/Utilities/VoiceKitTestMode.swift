//
//  VoiceKitTestMode.swift
//  VoiceKit
//
//  Generated by GPT-5 (OpenAI) - collaborator: rdoggett
//  date: 09-17-2025
//
//  Concurrency-safe test mode gate for code that would otherwise touch
//  system assets (e.g., AVSpeechSynthesisVoice queries).
//

import Foundation

public actor VoiceKitTestModeStorage {
    public static let shared = VoiceKitTestModeStorage()
    private var allowSystemVoiceQueries = false

    public func setAllowSystemVoiceQueries(_ value: Bool) { allowSystemVoiceQueries = value }
    public func getAllowSystemVoiceQueries() -> Bool { allowSystemVoiceQueries }
}

public enum VoiceKitTestMode {
    public static func setAllowSystemVoiceQueries(_ value: Bool) async {
        await VoiceKitTestModeStorage.shared.setAllowSystemVoiceQueries(value)
    }
    public static func allowSystemVoiceQueries() async -> Bool {
        await VoiceKitTestModeStorage.shared.getAllowSystemVoiceQueries()
    }
}
