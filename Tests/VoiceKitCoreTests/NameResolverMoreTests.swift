//
//  NameResolverMoreTests.swift
//  VoiceKitCoreTests
//
//  Generated by GPT-5 (OpenAI) — collaborator: rdoggett
//  date: 09-14-2025
//

import XCTest
import VoiceKitCore

final class NameResolverMoreTests: XCTestCase {

    func testEmptyAndPunctuationOnlyReturnsEmptyWhenNoAllowed() {
        let r = NameResolver()
        XCTAssertEqual(r.resolve(transcript: "   ", allowed: nil), "")
        XCTAssertEqual(r.resolve(transcript: " !!! ", allowed: nil), "")
    }

    func testVariousDashesAndSpacesMatch() {
        let r = NameResolver()
        let allowed = ["Jean Luc"]
        // em dash, en dash, ascii dash, comma
        XCTAssertEqual(r.resolve(transcript: "Jean—Luc", allowed: allowed), "Jean Luc")
        XCTAssertEqual(r.resolve(transcript: "Jean–Luc", allowed: allowed), "Jean Luc")
        XCTAssertEqual(r.resolve(transcript: "Jean-Luc", allowed: allowed), "Jean Luc")
        XCTAssertEqual(r.resolve(transcript: "Jean,  Luc", allowed: allowed), "Jean Luc")
    }

    func testDiacriticsAndCaseFold() {
        let r = NameResolver()
        let allowed = ["Jose", "Ana Maria"]
        XCTAssertEqual(r.resolve(transcript: "José", allowed: allowed), "Jose")
        XCTAssertEqual(r.resolve(transcript: "ANA   MARÍA", allowed: allowed), "Ana Maria")
    }
}
