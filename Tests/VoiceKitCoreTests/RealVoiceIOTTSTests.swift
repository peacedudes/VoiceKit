//
//  RealVoiceIOTTSTests.swift
//  VoiceKit
//
//  Generated by GPT-5 (OpenAI) â€” collaborator: rdoggett
//  date: 09-17-2025
//

import XCTest
@testable import VoiceKitCore
import TestSupport

@MainActor
final class RealVoiceIOTTSTests: TestSupport.QoSNeutralizingTestCase {

    func testApplyProfileAndSpeak() async throws {
        let io = RealVoiceIO()

        // No displayName in TTSVoiceProfile
        let alex = TTSVoiceProfile(id: "com.apple.speech.synthesis.voice.Alex", rate: 0.6, pitch: 1.05, volume: 1.0)
        io.setVoiceProfile(alex)
        io.setDefaultVoiceProfile(alex)

        // TTSMasterControl initializer order: rateVariation, pitchVariation, volume
        io.setMasterControl(TTSMasterControl(rateVariation: 0.01, pitchVariation: 0.02, volume: 0.9))

        await io.speak("Applying profile for test.")
        // If no crash, mapping succeeded.
    }
}
